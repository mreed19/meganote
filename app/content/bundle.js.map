{"version":3,"sources":["bundle.js","app.module.js","notes/notes-form/notes-form.module.js","notes/notes.module.js","sign-in/sign-in.module.js","sign-up/sign-up.module.js","users/users.module.js","constants.js","core/auth.interceptor.js","helpers/angular-loading-spinner.js","notes/config.route.js","notes/notes-form/notes-form.controller.js","notes/notes.controller.js","notes/notes.service.js","sign-in/sign-in.directive.js","sign-up/sign-up.directive.js","users/auth-token.service.js","users/config.route.js","users/current-user.service.js","users/profile.directive.js","users/user-links.directive.js","users/users.service.js"],"names":["_classCallCheck","instance","Constructor","TypeError","configFunction","$urlRouterProvider","otherwise","run","$rootScope","$state","$on","go","angular","module","config","$inject","constant","AuthInterceptor","AuthToken","API_BASE","request","req","token","get","url","includes","headers","Authorization","authConfig","$httpProvider","interceptors","push","factory","directive","$http","link","scope","elm","spinnerActive","isLoading","pendingRequests","length","$watch","loading","removeClass","addClass","call","undefined","$stateProvider","state","templateUrl","controller","controllerAs","resolve","notesLoaded","data","title","NotesService","getNotes","NotesFormController","Flash","clearForm","vm","note","body_html","editing","save","_id","update","then","res","copy","create","noteId","destroy","this","find","params","NotesController","notes","notesPromise","apiURI","service","post","unshift","put","removeById","id","i","splice","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","UsersService","SignInController","value","login","user","message","bindToController","template","SignUpController","errors","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","keys","Symbol","iterator","next","done","err","$window","localStorage","getItem","setItem","removeItem","CurrentUser","JSON","parse","stringify","UserProfileController","UserLinksController","signedIn","clear","usersPromise","set","authToken"],"mappings":"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","file":"bundle.js","sourcesContent":["'use strict';\n\n{\n  var configFunction = function configFunction($urlRouterProvider) {\n    $urlRouterProvider.otherwise('/notes/');\n  };\n\n  var run = function run($rootScope, $state) {\n    $rootScope.$on('$stateChangeSucess', function () {\n      $rootScope.$state = $state;\n    });\n\n    $rootScope.$on('$stateChangError', function () {\n      $state.go('sign-in');\n    });\n  };\n\n  angular.module('meganote', ['ui.router', 'ngFlash', 'textAngular', 'angularSpinner', 'ngLoadingSpinner', 'meganote.notes', 'meganote.notesForm', 'meganote.signUp', 'meganote.users', 'meganote.signIn']).config(configFunction);\n\n  configFunction.$inject = ['$urlRouterProvider'];\n\n\n  run.$inject = ['$rootScope', '$state'];\n}\n'use strict';\n\n{\n  angular.module('meganote.notesForm', []);\n}\n'use strict';\n\n{\n  angular.module('meganote.notes', []);\n}\n'use strict';\n\n{\n  angular.module('meganote.signIn', []);\n}\n'use strict';\n\n{\n  angular.module('meganote.signUp', []);\n}\n'use strict';\n\n{\n  angular.module('meganote.users', []);\n}\n'use strict';\n\n{\n  angular.module('meganote').constant('API_BASE', 'http://localhost:3030/api/v1/');\n}\n'use strict';\n\n{\n  var AuthInterceptor = function AuthInterceptor(AuthToken, API_BASE) {\n    return {\n      request: function request(req) {\n        var token = AuthToken.get();\n        if (token && req.url.includes(API_BASE)) {\n          req.headers.Authorization = token;\n        }\n        return req;\n      }\n    };\n  };\n\n  var authConfig = function authConfig($httpProvider) {\n    return $httpProvider.interceptors.push('AuthInterceptor');\n  };\n\n  angular.module('meganote').factory('AuthInterceptor', AuthInterceptor).config(authConfig);\n\n  AuthInterceptor.$inject = ['AuthToken', 'API_BASE'];\n\n\n  authConfig.$inject = ['$httpProvider'];\n}\n'use strict';\n\n(function () {\n  angular.module('ngLoadingSpinner', ['angularSpinner']).directive('usSpinner', ['$http', '$rootScope', function ($http, $rootScope) {\n    return {\n      link: function link(scope, elm) {\n        $rootScope.spinnerActive = false;\n        scope.isLoading = function () {\n          return $http.pendingRequests.length > 0;\n        };\n\n        scope.$watch(scope.isLoading, function (loading) {\n          $rootScope.spinnerActive = loading;\n          if (loading) {\n            elm.removeClass('ng-hide');\n          } else {\n            elm.addClass('ng-hide');\n          }\n        });\n      }\n    };\n  }]);\n}).call(undefined);\n'use strict';\n\n{\n  (function () {\n    var configFunction = function configFunction($stateProvider) {\n      $stateProvider.state('notes', {\n        url: '/notes',\n        templateUrl: 'notes/notes.html',\n        controller: 'NotesController',\n        controllerAs: 'vm',\n        resolve: {\n          notesLoaded: notesLoaded\n        },\n        data: {\n          title: 'Notes'\n        }\n      }).state('notes.form', {\n        url: '/:noteId',\n        templateUrl: 'notes/notes-form/notes-form.html',\n        controller: 'NotesFormController',\n        controllerAs: 'vm'\n      });\n    };\n\n    var notesLoaded = function notesLoaded(NotesService) {\n      return NotesService.getNotes();\n    };\n\n    angular.module('meganote.notes').config(configFunction);\n\n    configFunction.$inject = ['$stateProvider'];\n\n\n    notesLoaded.$inject = ['NotesService'];\n  })();\n}\n'use strict';\n\n{\n  var NotesFormController = function NotesFormController($state, Flash, NotesService) {\n    var vm = this;\n\n    vm.note = NotesService.find($state.params.noteId);\n    vm.clearForm = clearForm;\n    vm.save = save;\n    vm.destroy = destroy;\n\n    /////////////////////\n\n    function clearForm() {\n      vm.note = { title: '', body_html: '' };\n      vm.editing = false;\n    }\n\n    function save() {\n      if (vm.note._id) {\n        NotesService.update(vm.note).then(function (res) {\n          vm.note = angular.copy(res.data);\n          Flash.create('success', 'Saved!');\n        }, function () {\n          return Flash.create('danger', 'Oops! Something went wrong');\n        });\n      } else {\n        NotesService.create(vm.note).then(function (res) {\n          vm.note = res.data;\n          Flash.create('success', 'Created!');\n          $state.go('notes.form', {\n            noteId: vm.note._id\n          });\n        }, function () {\n          return Flash.create('danger', 'Oops! Something went wrong');\n        });\n      }\n    }\n\n    function destroy() {\n      NotesService.destroy(vm.note).then(function () {\n        $state.go('notes.form', { noteId: undefined });\n      }, function () {\n        return Flash.create('danger', 'Oops! Something went wrong!');\n      });\n    }\n  };\n\n  angular.module('meganote.notesForm').controller('NotesFormController', NotesFormController);\n\n  NotesFormController.$inject = ['$state', 'Flash', 'NotesService'];\n}\n'use strict';\n\n{\n  var NotesController = function NotesController(NotesService) {\n    var vm = this;\n    vm.notes = NotesService.notes;\n  };\n\n  angular.module('meganote.notes').controller('NotesController', NotesController);\n\n  NotesController.$inject = ['NotesService'];\n}\n'use strict';\n\n{\n  var NotesService = function NotesService($http, API_BASE) {\n    var apiURI = API_BASE + 'notes/';\n\n    var service = {\n      notes: [],\n      getNotes: getNotes,\n      create: create,\n      update: update,\n      destroy: destroy,\n      removeById: removeById,\n      find: find\n    };\n\n    return service;\n\n    ///////////////\n\n    function getNotes() {\n      var notesPromise = $http.get(apiURI);\n      notesPromise.then(function (res) {\n        return service.notes = res.data;\n      });\n      return notesPromise;\n    }\n\n    function create(note) {\n      var notesPromise = $http.post(apiURI, note);\n      notesPromise.then(function (res) {\n        return service.notes.unshift(res.data);\n      });\n      return notesPromise;\n    }\n\n    function update(note) {\n      var notesPromise = $http.put('' + apiURI + note._id, note);\n      notesPromise.then(function (res) {\n        service.removeById(res.data._id);\n        service.notes.unshift(res.data);\n      });\n      return notesPromise;\n    }\n\n    function destroy(note) {\n      var notesPromise = $http.delete('' + apiURI + note._id);\n      notesPromise.then(function (res) {\n        return service.removeById(res.data._id);\n      });\n      return notesPromise;\n    }\n\n    function removeById(id) {\n      for (var i = 0; i < service.notes.length; i++) {\n        if (service.notes[i]._id === id) {\n          service.notes.splice(i, 1);\n        }\n      }\n    }\n\n    function find(id) {\n      for (var i = 0; i < service.notes.length; i++) {\n        if (service.notes[i]._id === id) {\n          return angular.copy(service.notes[i]);\n        }\n      }\n    }\n  };\n\n  angular.module('meganote.notes').factory('NotesService', NotesService);\n\n  NotesService.$inject = ['$http', 'API_BASE'];\n}\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n{\n  angular.module('meganote.signIn').directive('signIn', ['$state', 'Flash', 'UsersService', function ($state, Flash, UsersService) {\n    var SignInController = function () {\n      function SignInController() {\n        _classCallCheck(this, SignInController);\n      }\n\n      _createClass(SignInController, [{\n        key: 'submit',\n        value: function submit() {\n          var vm = this;\n          UsersService.login(vm.user).then(function () {\n            return $state.go('notes.form', { noteId: undefined });\n          }, function (res) {\n            return Flash.create('danger', res.data.message);\n          });\n        }\n      }]);\n\n      return SignInController;\n    }();\n\n    return {\n      scope: {},\n      controller: SignInController,\n      controllerAs: 'vm',\n      bindToController: true,\n      template: '\\n\\n          <div class=\"container\">\\n            <div class=\"row\">\\n              <div class=\"col-xs-6 col-xs-offset-4\">\\n                <h3>Welcome back!</h3>\\n                <form id=\"new_user\" ng-submit=\"vm.submit()\" novalidate>\\n                  <p>\\n                    <label for=\"username\">Username</label><br>\\n                    <input\\n                      ng-model=\"vm.user.username\"\\n                      type=\"text\"\\n                      name=\"username\"\\n                      required>\\n                  </p>\\n                  <p>\\n                    <label for=\"password\">Password</label><br>\\n                    <input\\n                      ng-model=\"vm.user.password\"\\n                      type=\"password\"\\n                      name=\"password\"\\n                      required>\\n                  </p>\\n                  <input type=\"submit\" name=\"commit\" value=\"Sign In\" class=\"btn btn-default\">\\n                  <span class=\"login\">\\n                    Don\\'t have an account?\\n                    <a ui-sref=\"sign-up\">Sign up!</a>\\n                  </span>\\n                </form>\\n                <flash-message\\n                  duration=\"5000\"\\n                  show-close=\"false\"\\n                  ></flash-message>\\n                <span us-spinner=\"{top:100}\"></span>\\n              </div>\\n            </div>\\n          </div>\\n\\n          '\n    };\n  }]);\n}\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n{\n  angular.module('meganote.signUp').directive('signUp', ['$state', 'Flash', 'UsersService', function ($state, Flash, UsersService) {\n    var SignUpController = function () {\n      function SignUpController() {\n        _classCallCheck(this, SignUpController);\n\n        this.user = {};\n      }\n\n      _createClass(SignUpController, [{\n        key: 'submit',\n        value: function submit() {\n          UsersService.create(this.user).then(function () {\n            return $state.go('notes.form', { noteId: undefined });\n          }, function (res) {\n            if (res.data.errors) {\n              var message = 'Oops! Something went wrong.<ul>';\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = Object.keys(res.data.errors)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var key = _step.value;\n\n                  message += '<li>' + res.data.errors[key].message + '</li>';\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              message += '</ul>';\n              Flash.create('danger', message);\n            }\n          });\n        }\n      }]);\n\n      return SignUpController;\n    }();\n\n    return {\n      scope: {},\n      controller: SignUpController,\n      controllerAs: 'vm',\n      bindToController: true,\n      template: '<div class=\"container\">\\n            <div class=\"row\">\\n              <div class=\"col-xs-6 col-xs-offset-4\">\\n                <h3>Sign Up for Meganote</h3>\\n                <form id=\"new_user\" ng-submit=\"vm.submit()\" novalidate>\\n                  <p>\\n                    <label for=\"name\">Full Name</label><br>\\n                    <input\\n                      ng-model=\"vm.user.name\"\\n                      type=\"text\"\\n                      name=\"name\"\\n                      autofocus=\"autofocus\"\\n                      required>\\n                  </p>\\n                  <p>\\n                    <label for=\"username\">Username</label><br>\\n                    <input\\n                      ng-model=\"vm.user.username\"\\n                      type=\"text\"\\n                      name=\"username\"\\n                      required>\\n                  </p>\\n                  <p>\\n                    <label for=\"password\">Password</label><br>\\n                    <input\\n                      ng-model=\"vm.user.password\"\\n                      type=\"password\"\\n                      name=\"password\"\\n                      required>\\n                  </p>\\n                  <p>\\n                    <label for=\"passwordConfirmation\">Re-type Password</label><br>\\n                    <input\\n                      ng-model=\"vm.user.passwordConfirmation\"\\n                      type=\"password\"\\n                      name=\"passwordConfirmation\"\\n                      required>\\n                  </p>\\n                  <input type=\"submit\" name=\"commit\" value=\"Sign Up\" class=\"btn btn-default\">\\n                  <span class=\"login\">\\n                    Already have an account?\\n                    <a ui-sref=\"sign-in\">Log in.</a>\\n                  </span>\\n                </form>\\n                <flash-message\\n                  duration=\"5000\"\\n                  show-close=\"false\"\\n                ></flash-message>\\n                <span us-spinner=\"{top:100}\"></span>\\n              </div>\\n            </div>\\n          </div>\\n'\n    };\n  }]);\n}\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n{\n  angular.module('meganote.users').service('AuthToken', ['$window', function ($window) {\n    var AuthToken = function () {\n      function AuthToken() {\n        _classCallCheck(this, AuthToken);\n\n        this.token = $window.localStorage.getItem('authToken');\n      }\n\n      _createClass(AuthToken, [{\n        key: 'set',\n        value: function set(token) {\n          this.token = token;\n          $window.localStorage.setItem('authToken', this.token);\n        }\n      }, {\n        key: 'get',\n        value: function get() {\n          return this.token;\n        }\n      }, {\n        key: 'clear',\n        value: function clear() {\n          this.token = undefined;\n          $window.localStorage.removeItem('authToken');\n        }\n      }]);\n\n      return AuthToken;\n    }();\n\n    return new AuthToken();\n  }]);\n}\n'use strict';\n\n{\n  var configFunction = function configFunction($stateProvider) {\n    $stateProvider.state('sign-up', {\n      url: '/sign-up',\n      template: '<sign-up></sign-up>',\n      data: {\n        title: 'Sign up'\n      }\n    }).state('sign-in', {\n      url: '/sign-in',\n      template: '<sign-in></sign-in>',\n      data: {\n        title: 'Sign in'\n      }\n    }).state('user-profile', {\n      url: '/profile',\n      template: '<user-profile></user-profile>',\n      data: {\n        title: 'Profile'\n      }\n    });\n  };\n\n  angular.module('meganote.users').config(configFunction);\n\n  configFunction.$inject = ['$stateProvider'];\n}\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n{\n  angular.module('meganote.users').service('CurrentUser', ['$window', function ($window) {\n    var CurrentUser = function () {\n      function CurrentUser() {\n        _classCallCheck(this, CurrentUser);\n\n        this.user = JSON.parse($window.localStorage.getItem('currentUser'));\n      }\n\n      _createClass(CurrentUser, [{\n        key: 'set',\n        value: function set(user) {\n          this.user = user;\n          $window.localStorage.setItem('currentUser', JSON.stringify(this.user));\n        }\n      }, {\n        key: 'get',\n        value: function get() {\n          return this.user || {};\n        }\n      }, {\n        key: 'clear',\n        value: function clear() {\n          this.user = undefined;\n          $window.localStorage.removeItem('currentUser');\n        }\n      }, {\n        key: 'signedIn',\n        value: function signedIn() {\n          return !!this.get()._id;\n        }\n      }]);\n\n      return CurrentUser;\n    }();\n\n    return new CurrentUser();\n  }]);\n}\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n{\n  angular.module('meganote.users').directive('userProfile', ['Flash', 'CurrentUser', 'UsersService', function (Flash, CurrentUser, UsersService) {\n    var UserProfileController = function () {\n      function UserProfileController() {\n        _classCallCheck(this, UserProfileController);\n\n        var vm = this;\n        vm.user = angular.copy(CurrentUser.get());\n      }\n\n      _createClass(UserProfileController, [{\n        key: 'submit',\n        value: function submit() {\n          var vm = this;\n          UsersService.update(vm.user).then(function () {\n            return Flash.create('success', 'Successfully updated user.');\n          }, function (res) {\n            if (res.data.errors) {\n              var message = 'Oops! Something went wrong.<ul>';\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = Object.keys(res.data.errors)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var key = _step.value;\n\n                  message += '<li>' + res.data.errors[key].message + '</li>';\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              message += '</ul>';\n              Flash.create('danger', message);\n            }\n          });\n        }\n      }]);\n\n      return UserProfileController;\n    }();\n\n    return {\n      scope: {},\n      controller: UserProfileController,\n      controllerAs: 'vm',\n      bindToController: true,\n      template: '\\n\\n          <div class=\"container\">\\n            <div class=\"row\">\\n              <div class=\"col-xs-6 col-xs-offset-4\">\\n                <h3>Update Your Profile</h3>\\n                <form id=\"new_user\" ng-submit=\"vm.submit()\" novalidate>\\n                  <p>\\n                    <label for=\"name\">Full Name</label><br>\\n                    <input\\n                      ng-model=\"vm.user.name\"\\n                      type=\"text\"\\n                      name=\"name\"\\n                      autofocus=\"autofocus\"\\n                      required>\\n                  </p>\\n                  <p>\\n                    <label for=\"username\">Username</label><br>\\n                    <input\\n                      ng-model=\"vm.user.username\"\\n                      type=\"text\"\\n                      name=\"username\"\\n                      required>\\n                  </p>\\n                  <input type=\"submit\" name=\"commit\" value=\"Save Changes\" class=\"btn btn-default\">\\n                  <span class=\"login\">\\n                    <a ui-sref=\"notes.form({ noteId: undefined })\">\\n                      Back to my notes\\n                    </a>\\n                </form>\\n                <flash-message\\n                  duration=\"5000\"\\n                  show-close=\"false\"\\n                  ></flash-message>\\n                <span us-spinner=\"{top:100}\"></span>\\n              </div>\\n            </div>\\n          </div>\\n\\n\\n          '\n    };\n  }]);\n}\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n{\n  angular.module('meganote.users').directive('userLinks', ['CurrentUser', 'AuthToken', function (CurrentUser, AuthToken) {\n    var UserLinksController = function () {\n      function UserLinksController() {\n        _classCallCheck(this, UserLinksController);\n      }\n\n      _createClass(UserLinksController, [{\n        key: 'user',\n        value: function user() {\n          return CurrentUser.get();\n        }\n      }, {\n        key: 'signedIn',\n        value: function signedIn() {\n          return CurrentUser.signedIn();\n        }\n      }, {\n        key: 'logout',\n        value: function logout() {\n          CurrentUser.clear();\n          AuthToken.clear();\n        }\n      }]);\n\n      return UserLinksController;\n    }();\n\n    return {\n      scope: {},\n      controller: UserLinksController,\n      controllerAs: 'vm',\n      bindToController: true,\n      template: '\\n\\n          <div class=\"user-links\">\\n            <span ng-show=\"vm.signedIn()\">\\n              <a ui-sref=\"user-profile\">Signed in as {{ vm.user().name }}</a>\\n              |\\n              <a ui-sref=\"sign-in\" ng-click=\"vm.logout()\">Logout</a>\\n            </span>\\n            <span ng-show=\"!vm.signedIn()\">\\n              <a ui-sref=\"sign-up\">Sign up for Meganote today!</a>\\n            </span>\\n          </div>\\n\\n          '\n    };\n  }]);\n}\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n{\n  angular.module('meganote.users').service('UsersService', ['$http', 'API_BASE', 'AuthToken', 'CurrentUser', function ($http, API_BASE, AuthToken, CurrentUser) {\n\n    var apiURI = API_BASE + 'users/';\n\n    var UsersService = function () {\n      function UsersService() {\n        _classCallCheck(this, UsersService);\n      }\n\n      _createClass(UsersService, [{\n        key: 'create',\n\n\n        // Sign up\n        value: function create(user) {\n          var usersPromise = $http.post(apiURI, {\n            user: user\n          });\n          usersPromise.then(function (res) {\n            AuthToken.set(res.data.authToken);\n            CurrentUser.set(res.data.user);\n          });\n          return usersPromise;\n        }\n\n        // Update Profile\n\n      }, {\n        key: 'update',\n        value: function update(user) {\n          var usersPromise = $http.put('' + apiURI + user._id, { user: user });\n          usersPromise.then(function (res) {\n            return CurrentUser.set(res.data.user);\n          });\n          return usersPromise;\n        }\n\n        // Login\n\n      }, {\n        key: 'login',\n        value: function login(user) {\n          var usersPromise = $http.post(API_BASE + 'sessions/', { user: user });\n          usersPromise.then(function (res) {\n            AuthToken.set(res.data.authToken);\n            CurrentUser.set(res.data.user);\n          });\n          return usersPromise;\n        }\n      }]);\n\n      return UsersService;\n    }();\n\n    return new UsersService();\n  }]);\n}","{\n  angular.module('meganote', [\n    'ui.router',\n    'ngFlash',\n    'textAngular',\n    'angularSpinner',\n    'ngLoadingSpinner',\n    'meganote.notes',\n    'meganote.notesForm',\n    'meganote.signUp',\n    'meganote.users',\n    'meganote.signIn'\n  ])\n  .config(configFunction);\n\n  configFunction.$inject = ['$urlRouterProvider'];\n  function configFunction($urlRouterProvider) {\n    $urlRouterProvider.otherwise('/notes/');\n  }\n\n  run.$inject = ['$rootScope', '$state'];\n  function run($rootScope, $state) {\n    $rootScope.$on('$stateChangeSucess', () => {\n      $rootScope.$state = $state;\n    });\n\n    $rootScope.$on('$stateChangError', () => {\n      $state.go('sign-in');\n    });\n  }\n}\n","{\n  angular.module('meganote.notesForm', []);\n}\n","{\n  angular.module('meganote.notes', []);\n}\n","{\n  angular.module('meganote.signIn', []);\n}\n","{\n  angular.module('meganote.signUp', []);\n}\n","{\n  angular.module('meganote.users', []);\n}\n","{\n  angular\n    .module('meganote')\n    .constant('API_BASE', 'http://localhost:3030/api/v1/');\n}\n","{\n  angular\n    .module('meganote')\n    .factory('AuthInterceptor', AuthInterceptor)\n    .config(authConfig);\n\n  AuthInterceptor.$inject = ['AuthToken', 'API_BASE'];\n  function AuthInterceptor(AuthToken, API_BASE) {\n    return {\n      request(req) {\n        const token = AuthToken.get();\n        if (token && req.url.includes(API_BASE)) {\n          req.headers.Authorization = token;\n        }\n        return req;\n      }\n    };\n  }\n\n  authConfig.$inject = ['$httpProvider'];\n  function authConfig($httpProvider) {\n    return $httpProvider.interceptors.push('AuthInterceptor');\n  }\n}\n","(function(){\n  angular\n    .module('ngLoadingSpinner', ['angularSpinner'])\n    .directive('usSpinner',   ['$http', '$rootScope' ,function ($http, $rootScope){\n      return {\n        link: function (scope, elm)\n        {\n          $rootScope.spinnerActive = false;\n          scope.isLoading = function () {\n            return $http.pendingRequests.length > 0;\n          };\n\n          scope.$watch(scope.isLoading, function (loading)\n          {\n            $rootScope.spinnerActive = loading;\n            if(loading){\n              elm.removeClass('ng-hide');\n            }\n            else {\n              elm.addClass('ng-hide');\n            }\n          });\n        }\n      };\n\n    }]);\n}).call(this);\n","{\n  angular\n    .module('meganote.notes')\n    .config(configFunction);\n\n  configFunction.$inject = ['$stateProvider'];\n  function configFunction($stateProvider) {\n    $stateProvider\n\n      .state('notes', {\n        url: '/notes',\n        templateUrl: 'notes/notes.html',\n        controller: 'NotesController',\n        controllerAs: 'vm',\n        resolve: {\n          notesLoaded: notesLoaded\n        },\n        data: {\n          title: 'Notes'\n        }\n      })\n\n      .state('notes.form', {\n        url: '/:noteId',\n        templateUrl: 'notes/notes-form/notes-form.html',\n        controller: 'NotesFormController',\n        controllerAs: 'vm'\n      });\n  }\n\n  notesLoaded.$inject = ['NotesService'];\n  function notesLoaded(NotesService) {\n    return NotesService.getNotes();\n  }\n}\n","{\n  angular\n    .module('meganote.notesForm')\n    .controller('NotesFormController', NotesFormController);\n\n  NotesFormController.$inject = ['$state', 'Flash', 'NotesService'];\n  function NotesFormController($state, Flash, NotesService) {\n    const vm = this;\n\n    vm.note = NotesService.find($state.params.noteId);\n    vm.clearForm = clearForm;\n    vm.save = save;\n    vm.destroy = destroy;\n\n    /////////////////////\n\n    function clearForm() {\n      vm.note = { title: '', body_html: ''};\n      vm.editing = false;\n    }\n\n    function save() {\n      if (vm.note._id) {\n        NotesService.update(vm.note)\n        .then(res => {\n          vm.note = angular.copy(res.data);\n          Flash.create('success', 'Saved!');\n        },\n        () => Flash.create('danger', 'Oops! Something went wrong')\n        );\n      }\n      else {\n        NotesService.create(vm.note)\n        .then(res => {\n          vm.note = res.data;\n          Flash.create('success', 'Created!');\n          $state.go('notes.form', {\n            noteId: vm.note._id\n          });\n        },\n        () => Flash.create('danger', 'Oops! Something went wrong')\n        );\n      }\n    }\n\n    function destroy() {\n      NotesService.destroy(vm.note)\n      .then(\n        () => {\n          $state.go('notes.form', { noteId: undefined });\n        },\n        () => Flash.create('danger', 'Oops! Something went wrong!')\n      );\n    }\n  }\n}\n","{\n  angular\n    .module('meganote.notes')\n    .controller('NotesController', NotesController);\n\n  NotesController.$inject = ['NotesService'];\n  function NotesController(NotesService) {\n    const vm = this;\n    vm.notes = NotesService.notes;\n  }\n}\n","{\n  angular\n    .module('meganote.notes')\n    .factory('NotesService', NotesService);\n\n  NotesService.$inject = ['$http', 'API_BASE'];\n  function NotesService($http, API_BASE) {\n    const apiURI = `${API_BASE}notes/`;\n\n    const service = {\n      notes: [],\n      getNotes: getNotes,\n      create: create,\n      update: update,\n      destroy: destroy,\n      removeById: removeById,\n      find: find,\n    };\n\n    return service;\n\n    ///////////////\n\n    function getNotes() {\n      const notesPromise = $http.get(apiURI);\n      notesPromise.then(res => service.notes = res.data);\n      return notesPromise;\n    }\n\n    function create(note) {\n      const notesPromise = $http.post(apiURI, note);\n      notesPromise.then(res => service.notes.unshift(res.data));\n      return notesPromise;\n    }\n\n    function update(note) {\n      const notesPromise = $http.put(`${apiURI}${note._id}`, note);\n      notesPromise.then(res => {\n        service.removeById(res.data._id);\n        service.notes.unshift(res.data);\n      });\n      return notesPromise;\n    }\n\n    function destroy(note) {\n      const notesPromise = $http.delete(`${apiURI}${note._id}`);\n      notesPromise.then(res => service.removeById(res.data._id));\n      return notesPromise;\n    }\n\n    function removeById(id) {\n      for (let i = 0; i < service.notes.length; i++) {\n        if (service.notes[i]._id === id) {\n          service.notes.splice(i, 1);\n        }\n      }\n    }\n\n    function find(id) {\n      for (let i = 0; i < service.notes.length; i++) {\n        if (service.notes[i]._id === id) {\n          return angular.copy(service.notes[i]);\n        }\n      }\n    }\n  }\n}\n","{\n  angular\n    .module('meganote.signIn')\n    .directive('signIn', [\n\n      '$state',\n      'Flash',\n      'UsersService',\n      ($state, Flash, UsersService) => {\n        class SignInController {\n          submit() {\n            var vm = this;\n            UsersService.login(vm.user)\n              .then(\n                () => $state.go('notes.form', { noteId: undefined }),\n                res => Flash.create('danger', res.data.message)\n              );\n          }\n        }\n\n        return {\n          scope: {},\n          controller: SignInController,\n          controllerAs: 'vm',\n          bindToController: true,\n          template: `\n\n          <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-xs-6 col-xs-offset-4\">\n                <h3>Welcome back!</h3>\n                <form id=\"new_user\" ng-submit=\"vm.submit()\" novalidate>\n                  <p>\n                    <label for=\"username\">Username</label><br>\n                    <input\n                      ng-model=\"vm.user.username\"\n                      type=\"text\"\n                      name=\"username\"\n                      required>\n                  </p>\n                  <p>\n                    <label for=\"password\">Password</label><br>\n                    <input\n                      ng-model=\"vm.user.password\"\n                      type=\"password\"\n                      name=\"password\"\n                      required>\n                  </p>\n                  <input type=\"submit\" name=\"commit\" value=\"Sign In\" class=\"btn btn-default\">\n                  <span class=\"login\">\n                    Don't have an account?\n                    <a ui-sref=\"sign-up\">Sign up!</a>\n                  </span>\n                </form>\n                <flash-message\n                  duration=\"5000\"\n                  show-close=\"false\"\n                  ></flash-message>\n                <span us-spinner=\"{top:100}\"></span>\n              </div>\n            </div>\n          </div>\n\n          `\n        };\n      }\n\n    ]);\n}\n","{\n  angular\n    .module('meganote.signUp')\n    .directive('signUp', [\n\n      '$state',\n      'Flash',\n      'UsersService',\n      ($state, Flash, UsersService) => {\n\n        class SignUpController {\n          constructor() {\n            this.user = {};\n          }\n          submit() {\n            UsersService.create(this.user)\n              .then(\n                () => $state.go('notes.form', { noteId: undefined }),\n                res => {\n                  if (res.data.errors) {\n                    var message = 'Oops! Something went wrong.<ul>';\n                    for (var key of Object.keys(res.data.errors)) {\n                      message += '<li>' + res.data.errors[key].message + '</li>';\n                    }\n                    message += '</ul>';\n                    Flash.create('danger', message);\n                  }\n                }\n              );\n          }\n        }\n\n        return {\n          scope: {},\n          controller: SignUpController,\n          controllerAs: 'vm',\n          bindToController: true,\n          template: `<div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-xs-6 col-xs-offset-4\">\n                <h3>Sign Up for Meganote</h3>\n                <form id=\"new_user\" ng-submit=\"vm.submit()\" novalidate>\n                  <p>\n                    <label for=\"name\">Full Name</label><br>\n                    <input\n                      ng-model=\"vm.user.name\"\n                      type=\"text\"\n                      name=\"name\"\n                      autofocus=\"autofocus\"\n                      required>\n                  </p>\n                  <p>\n                    <label for=\"username\">Username</label><br>\n                    <input\n                      ng-model=\"vm.user.username\"\n                      type=\"text\"\n                      name=\"username\"\n                      required>\n                  </p>\n                  <p>\n                    <label for=\"password\">Password</label><br>\n                    <input\n                      ng-model=\"vm.user.password\"\n                      type=\"password\"\n                      name=\"password\"\n                      required>\n                  </p>\n                  <p>\n                    <label for=\"passwordConfirmation\">Re-type Password</label><br>\n                    <input\n                      ng-model=\"vm.user.passwordConfirmation\"\n                      type=\"password\"\n                      name=\"passwordConfirmation\"\n                      required>\n                  </p>\n                  <input type=\"submit\" name=\"commit\" value=\"Sign Up\" class=\"btn btn-default\">\n                  <span class=\"login\">\n                    Already have an account?\n                    <a ui-sref=\"sign-in\">Log in.</a>\n                  </span>\n                </form>\n                <flash-message\n                  duration=\"5000\"\n                  show-close=\"false\"\n                ></flash-message>\n                <span us-spinner=\"{top:100}\"></span>\n              </div>\n            </div>\n          </div>\n`\n        };\n      }]\n    );\n}\n","{\n  angular\n    .module('meganote.users')\n    .service('AuthToken', ['$window', $window => {\n\n      class AuthToken {\n        constructor() {\n          this.token = $window.localStorage.getItem('authToken');\n        }\n        set(token) {\n          this.token = token;\n          $window.localStorage.setItem('authToken', this.token);\n        }\n        get() {\n          return this.token;\n        }\n        clear() {\n          this.token = undefined;\n          $window.localStorage.removeItem('authToken');\n        }\n      }\n\n      return new AuthToken();\n    }]);\n\n\n}\n","{\n  angular\n    .module('meganote.users')\n    .config(configFunction);\n\n  configFunction.$inject = ['$stateProvider'];\n  function configFunction($stateProvider) {\n    $stateProvider.state('sign-up', {\n      url: '/sign-up',\n      template: '<sign-up></sign-up>',\n      data: {\n        title: 'Sign up'\n      }\n    })\n\n    .state('sign-in', {\n      url: '/sign-in',\n      template: '<sign-in></sign-in>',\n      data: {\n        title: 'Sign in'\n      }\n    })\n\n    .state('user-profile', {\n      url: '/profile',\n      template: '<user-profile></user-profile>',\n      data: {\n        title: 'Profile'\n      }\n    });\n  }\n}\n","{\n  angular\n    .module('meganote.users')\n    .service('CurrentUser', ['$window', $window => {\n\n      class CurrentUser {\n        constructor() {\n          this.user = JSON.parse($window.localStorage.getItem('currentUser'));\n        }\n        set(user) {\n          this.user = user;\n          $window.localStorage.setItem('currentUser', JSON.stringify(this.user));\n        }\n        get() {\n          return this.user || {};\n        }\n        clear() {\n          this.user = undefined;\n          $window.localStorage.removeItem('currentUser');\n        }\n        signedIn() {\n          return !!this.get()._id;\n        }\n      }\n\n      return new CurrentUser();\n    }]);\n}\n","{\n  angular\n    .module('meganote.users')\n    .directive('userProfile', [\n\n      'Flash',\n      'CurrentUser',\n      'UsersService',\n      (Flash, CurrentUser, UsersService) => {\n        class UserProfileController {\n          constructor() {\n            var vm = this;\n            vm.user = angular.copy(CurrentUser.get());\n          }\n          submit() {\n            var vm = this;\n            UsersService.update(vm.user).then(\n              () => Flash.create('success', 'Successfully updated user.'),\n              res =>  {\n                if (res.data.errors) {\n                  var message = 'Oops! Something went wrong.<ul>';\n                  for (var key of Object.keys(res.data.errors)) {\n                    message += '<li>' + res.data.errors[key].message + '</li>';\n                  }\n                  message += '</ul>';\n                  Flash.create('danger', message);\n                }\n              }\n            );\n          }\n        }\n\n        return {\n          scope: {},\n          controller: UserProfileController,\n          controllerAs: 'vm',\n          bindToController: true,\n          template: `\n\n          <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-xs-6 col-xs-offset-4\">\n                <h3>Update Your Profile</h3>\n                <form id=\"new_user\" ng-submit=\"vm.submit()\" novalidate>\n                  <p>\n                    <label for=\"name\">Full Name</label><br>\n                    <input\n                      ng-model=\"vm.user.name\"\n                      type=\"text\"\n                      name=\"name\"\n                      autofocus=\"autofocus\"\n                      required>\n                  </p>\n                  <p>\n                    <label for=\"username\">Username</label><br>\n                    <input\n                      ng-model=\"vm.user.username\"\n                      type=\"text\"\n                      name=\"username\"\n                      required>\n                  </p>\n                  <input type=\"submit\" name=\"commit\" value=\"Save Changes\" class=\"btn btn-default\">\n                  <span class=\"login\">\n                    <a ui-sref=\"notes.form({ noteId: undefined })\">\n                      Back to my notes\n                    </a>\n                </form>\n                <flash-message\n                  duration=\"5000\"\n                  show-close=\"false\"\n                  ></flash-message>\n                <span us-spinner=\"{top:100}\"></span>\n              </div>\n            </div>\n          </div>\n\n\n          `\n        };\n      }\n    ]);\n}\n","{\n  angular\n    .module('meganote.users')\n    .directive('userLinks', [\n\n      'CurrentUser',\n      'AuthToken',\n      (CurrentUser, AuthToken) => {\n\n        class UserLinksController {\n          user() {\n            return CurrentUser.get();\n          }\n          signedIn() {\n            return CurrentUser.signedIn();\n          }\n          logout() {\n            CurrentUser.clear();\n            AuthToken.clear();\n          }\n        }\n\n        return {\n          scope: {},\n          controller: UserLinksController,\n          controllerAs: 'vm',\n          bindToController: true,\n          template: `\n\n          <div class=\"user-links\">\n            <span ng-show=\"vm.signedIn()\">\n              <a ui-sref=\"user-profile\">Signed in as {{ vm.user().name }}</a>\n              |\n              <a ui-sref=\"sign-in\" ng-click=\"vm.logout()\">Logout</a>\n            </span>\n            <span ng-show=\"!vm.signedIn()\">\n              <a ui-sref=\"sign-up\">Sign up for Meganote today!</a>\n            </span>\n          </div>\n\n          `\n        };\n      }\n    ]);\n}\n","{\n  angular\n    .module('meganote.users')\n    .service('UsersService', [\n      '$http',\n      'API_BASE',\n      'AuthToken',\n      'CurrentUser',\n      ($http, API_BASE, AuthToken, CurrentUser) =>{\n\n        const apiURI = `${API_BASE}users/`;\n\n        class UsersService {\n\n          // Sign up\n          create(user) {\n            const usersPromise = $http.post(apiURI, {\n              user\n            });\n            usersPromise.then(\n              res => {\n                AuthToken.set(res.data.authToken);\n                CurrentUser.set(res.data.user);\n              }\n            );\n            return usersPromise;\n          }\n\n          // Update Profile\n          update(user) {\n            const usersPromise = $http.put(`${apiURI}${user._id}`, { user });\n            usersPromise.then(res => CurrentUser.set(res.data.user));\n            return usersPromise;\n          }\n\n          // Login\n          login(user) {\n            const usersPromise = $http.post(`${API_BASE}sessions/`, { user });\n            usersPromise.then(\n              res => {\n                AuthToken.set(res.data.authToken);\n                CurrentUser.set(res.data.user);\n              }\n            );\n            return usersPromise;\n          }\n        }\n\n        return new UsersService();\n      }\n    ]);\n}\n"],"sourceRoot":"/source/"}